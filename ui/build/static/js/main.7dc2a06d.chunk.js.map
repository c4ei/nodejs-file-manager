{"version":3,"sources":["App.js","index.js"],"names":["getList","path","Promise","resolve","reject","a","fetch","apiPath","response","json","list","console","error","createDirectory","name","prompt","method","headers","body","JSON","stringify","deletePaths","paths","window","confirm","openFile","open","rename","parts","split","length","uploadFiles","files","log","formData","FormData","forEach","file","index","append","App","className","features","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qNAKMA,EAAU,SAACC,GACf,OAAO,IAAIC,QAAJ,uCAAY,WAAOC,EAASC,GAAhB,iBAAAC,EAAA,+EAEQC,MAAMC,uBAA+BN,GAF7C,cAETO,EAFS,gBAGIA,EAASC,OAHb,OAGTC,EAHS,OAIfP,EAAQO,GAJO,kDAMfC,QAAQC,MAAR,MACAR,EAAO,EAAD,IAPS,0DAAZ,0DAYHS,EAAkB,SAACZ,GACvB,OAAO,IAAIC,QAAJ,uCAAY,WAAOC,EAASC,GAAhB,eAAAC,EAAA,2DACXS,EAAOC,OAAO,iBAAkB,eADrB,0CAIPT,MAAMC,kBAAyB,CACjCS,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEnB,OAAMa,WAPpB,OAUbX,IAVa,gDAYbQ,QAAQC,MAAR,MACAR,EAAO,EAAD,IAbO,gCAgBfA,IAhBe,yDAAZ,0DAqBHiB,EAAc,SAACC,GACnB,OAAO,IAAIpB,QAAJ,uCAAY,WAAOC,EAASC,GAAhB,SAAAC,EAAA,0DACbkB,OAAOC,QAAQ,YADF,0CAGPlB,MAAMC,mBAA0B,CAClCS,OAAQ,SACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEE,YANd,OASbnB,IATa,gDAWbQ,QAAQC,MAAR,MACAR,EAAO,EAAD,IAZO,gCAefA,IAfe,yDAAZ,0DAoBHqB,EAAW,SAACxB,GAChBsB,OAAOG,KAAKnB,iBAAyBN,IAGjC0B,EAAS,SAAC1B,GACd,OAAO,IAAIC,QAAJ,uCAAY,WAAOC,EAASC,GAAhB,iBAAAC,EAAA,yDACXuB,EAAQ3B,EAAK4B,MAAM,OACnBf,EAAOC,OAAO,WAAYa,EAAMA,EAAME,OAAS,KAFpC,0CAKPxB,MAAMC,mBAA0B,CAClCS,OAAQ,MACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEnB,OAAMa,WARpB,OAWbX,IAXa,gDAabQ,QAAQC,MAAR,MACAR,EAAO,EAAD,IAdO,gCAiBfA,IAjBe,yDAAZ,0DAsBH2B,EAAc,SAAC9B,EAAM+B,GACzB,OAAO,IAAI9B,QAAJ,uCAAY,WAAOC,EAASC,GAAhB,eAAAC,EAAA,6DACjBM,QAAQsB,IAAI,CAAEhC,OAAM+B,UADH,SAGTE,EAAW,IAAIC,SACrB,YAAIH,GAAOI,SAAQ,SAACC,EAAMC,GACxBJ,EAASK,OAAO,OAASD,EAAOD,MAElCH,EAASK,OAAO,OAAQtC,GAPT,SAQTK,MAAMC,mBAA0B,CAClCS,OAAQ,OACRE,KAAMgB,IAVK,OAaf/B,IAbe,kDAefQ,QAAQC,MAAR,MACAR,EAAO,EAAD,IAhBS,0DAAZ,0DAmCMoC,MAdf,WACE,OACE,qBAAKC,UAAU,MAAf,SACE,cAAC,IAAD,CAAazC,QAASA,EACTa,gBAAiBA,EACjBQ,YAAaA,EACbI,SAAUA,EACVM,YAAaA,EACbJ,OAAQA,EACRe,SAAU,CAAC,kBAAmB,cAAe,cAAe,eClH/EC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U","file":"static/js/main.7dc2a06d.chunk.js","sourcesContent":["import React from \"react\";\nimport FileManager from \"react-file-manager-ui\";\n\nconst apiPath = '/api';\n\nconst getList = (path) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const response = await fetch(apiPath + '/file/list?path=' + path);\n      const list = await response.json();\n      resolve(list);\n    } catch (error) {\n      console.error(error);\n      reject(error);\n    }\n  });\n};\n\nconst createDirectory = (path) => {\n  return new Promise(async (resolve, reject) => {\n    const name = prompt(\"Directory name\", \"New folder\");\n    if (name) {\n      try {\n        await fetch(apiPath + '/file/mkdir', {\n            method: 'post',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ path, name })\n          }\n        );\n        resolve();\n      } catch (error) {\n        console.error(error);\n        reject(error);\n      }\n    } else {\n      reject();\n    }\n  });\n};\n\nconst deletePaths = (paths) => {\n  return new Promise(async (resolve, reject) => {\n    if (window.confirm('Delete ?')) {\n      try {\n        await fetch(apiPath + '/file/delete', {\n            method: 'delete',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ paths })\n          }\n        );\n        resolve();\n      } catch (error) {\n        console.error(error);\n        reject(error);\n      }\n    } else {\n      reject();\n    }\n  });\n};\n\nconst openFile = (path) => {\n  window.open(apiPath + '/file/pipe' + path);\n};\n\nconst rename = (path) => {\n  return new Promise(async (resolve, reject) => {\n    const parts = path.split('/');\n    const name = prompt(\"New name\", parts[parts.length - 1]);\n    if (name) {\n      try {\n        await fetch(apiPath + '/file/rename', {\n            method: 'put',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ path, name })\n          }\n        );\n        resolve();\n      } catch (error) {\n        console.error(error);\n        reject(error);\n      }\n    } else {\n      reject();\n    }\n  });\n};\n\nconst uploadFiles = (path, files) => {\n  return new Promise(async (resolve, reject) => {\n    console.log({ path, files });\n    try {\n      const formData = new FormData();\n      [...files].forEach((file, index) => {\n        formData.append('file' + index, file);\n      });\n      formData.append('path', path);\n      await fetch(apiPath + '/file/upload', {\n          method: 'post',\n          body: formData\n        }\n      );\n      resolve();\n    } catch (error) {\n      console.error(error);\n      reject(error);\n    }\n  });\n};\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <FileManager getList={getList}\n                   createDirectory={createDirectory}\n                   deletePaths={deletePaths}\n                   openFile={openFile}\n                   uploadFiles={uploadFiles}\n                   rename={rename}\n                   features={['createDirectory', 'uploadFiles', 'deletePaths', 'rename']}/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}